<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Pharmacy Tour Team login form</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
	<link rel='stylesheet' href='https://fonts.googleapis.com/css2?family=Heebo:wght@100;200;300&amp;display=swap'>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
	<link rel="stylesheet" href="/assets/css/login.css">
	<script src="https://code.jquery.com/jquery-latest.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.21.0/jquery.validate.min.js"></script>
</head>
<body>
	<div class="scene flex">
		<section class="card">
			<figure class="card__figure">
				<img class="card__image" src="/assets/img/logindog.png" alt="">
				<figcaption>
					<span class="visually-hidden">
						Avatar photo
					</span>
				</figcaption>
			</figure>
			<h1 class="card__heading">
				<span class="visually-hidden">Account name:</span>
				<span>
					{% if name %}
					{{name}}님 가입을 환영합니다.
					{% else %}
					Login Tester
					{% endif %}
				</span>
			</h1>
			<!-- <form class="card__form" method="post">
				<label for="user_id" class="visually-hidden">Id:</label>
				<div class="input-container">
					<i class="bi bi-person"></i>
					<input id="user_id" name="user_id" class="card__input" type="text" />
				</div>
				<label for="password" class="visually-hidden">Password:</label>
				<div class="input-container">
					<i class="bi bi-lock"></i>
					<input id="password" name="password" class="card__input" type="password" />
				</div>
				<button class="card__button" type="submit">
					<span>로그인</span>
				</button>
			</form> -->
			<form id="loginFrm" class="card__form" method="post" action="/member/login">
				<label for="user_id" class="visually-hidden">Id:</label>
				<div class="input-container">
					<i class="bi bi-person"></i>
					<input id="user_id" name="user_id" class="card__input" type="text" />
				</div>
				<label for="user_pw" class="visually-hidden">Password:</label>
				<div class="input-container">
					<i class="bi bi-lock"></i>
					<input id="user_pw" name="user_pw" class="card__input" type="password" />
				</div>
				<button class="card__button" type="submit">
					<span>로그인</span>
				</button>
			</form>
		</section>
	</div>
	<script type="text/javascript">
		$(function () {
			$('#loginFrm').validate({
				debug: false,
				onkeyup: false,
				submitHandler: function (f) {
					f.submit();
				},
				rules: {
					user_id: {
						required: true,
					},
					user_pw: {  // 'user_pw'에서 'password'로 변경
						required: true,
					},
				},
				messages: {
					user_id: {
						required: "아이디를 입력하세요.",
					},
					user_pw: {  // 'user_pw'에서 'password'로 변경
						required: "비밀번호를 입력하세요.",
					}
				},
				errorElement: 'span',
				errorPlacement: function (error, element) {
					error.addClass('invalid-feedback');
					element.closest('.input-container').append(error);
				},
				highlight: function (element, errorClass, validClass) {
					$(element).addClass('is-invalid');
				},
				unhighlight: function (element, errorClass, validClass) {
					$(element).removeClass('is-invalid');
				}
			});
		});
	</script>
</body>

</html>